# Pourquoi Python est nécessaire ?

## Ansible est *agentless*
Contrairement à d’autres outils (Puppet, Chef, Salt...), **Ansible n’installe pas d’agent** sur les machines cibles.  
➡️ Il ne garde donc aucune dépendance permanente côté cible.

## Comment ça marche ?
Lorsqu’un playbook est exécuté :
1. Ansible se connecte en **SSH** à la machine.  
2. Il y **copie un petit module Python temporaire** (par ex. pour installer un paquet, créer un fichier, etc.).  
3. Ce module est exécuté localement par **l’interpréteur Python de la cible**.  
4. Le résultat est renvoyé en **JSON** au contrôleur.  
5. Le script temporaire est supprimé.  

👉 Python sert donc de **runtime minimal** pour exécuter les modules Ansible.

## Cas particuliers
- Les modules très simples (`ping`, `raw`) ne nécessitent pas Python → ils envoient juste une commande SSH.  
- Mais dès que l’on veut utiliser les modules standards (`apt`, `service`, `file`, `copy`, etc.), **Python devient indispensable**.  

## Quelle version ?
- Aujourd’hui, Ansible supporte **Python 3** (≥ 3.8 recommandé).  
- La plupart des OS modernes (Ubuntu 20.04+, Debian 11+, CentOS Stream, Fedora, etc.) ont déjà Python3 installé.  
- Sur des images plus légères (Docker minimal, Alpine, anciens Ubuntu/Debian), il peut manquer → il faut donc l’installer manuellement.  

---

## 📝 À retenir
> Ansible n’a pas d’agent.  
> Il a seulement besoin d’une connexion SSH **et de Python sur la cible** pour exécuter ses modules.  
